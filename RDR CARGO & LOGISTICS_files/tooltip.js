define("tooltip",["jquery","link!../css/tooltip"],function(a){return a.tooltip=a.fn.tooltip=function b(c){if(this.jquery){var d=a([]);return this.each(function(e,f){d.push(b(a.extend({},c,{anchor:f}))[0])}),d}c=a.extend({},{content:"&nbsp;",style:"info",position:"southeast",offset:[5,5],anchor:"cursor"},c);if(typeof c.anchor=="string"&&c.anchor!="cursor")return a(c.anchor).tooltip(c);c.anchor.nodeType&&(c.anchor=a(c.anchor));var e=a("<div></div>").addClass("w-tooltip").html(c.content).appendTo(a("body"));c.style&&e.addClass("w-tooltip-"+c.style),c.hideicon&&e.addClass("w-tooltip-noicon"),c.anchor=="cursor"&&(e.css({position:"fixed"}),a("body").bind("mousemove",function(b){if(!e.hasClass("active"))return;var d=parseInt(b.clientX+e.width());d>a("body").width()-e.width()*1.5&&(c.position="southwest"),c.position.match(/(top|north)/i)?e.css("bottom",a(window).height()-b.clientY+c.offset[1]+"px"):e.css("top",b.clientY+c.offset[1]+"px"),c.position.match(/(left|west)/i)?e.css("right",a(window).width()-b.clientX+c.offset[0]+"px"):e.css("left",b.clientX+c.offset[0]+"px")})),e.reposition=function(){var b=a('<span class="tooltip-tip">&nbsp;</span>'),d=0,f=0;if(c.anchor!="cursor")if(c.anchor&&c.anchor.constructor==Array)e.css({position:"absolute"}),c.position.match(/(top|north)/i)?e.css("bottom",a("body").height()-c.anchor[1]+c.offset[1]+"px"):e.css("top",c.anchor[1]+c.offset[1]+"px"),c.position.match(/(left|west)/i)?e.css("right",a("body").width()-c.anchor[0]+c.offset[0]+"px"):e.css("left",c.anchor[0]+c.offset[0]+"px");else{if(!c.anchor||!c.anchor.jquery)throw["Unsupported tooltip definition",c];e.css({position:"absolute"});var g=c.anchor.position();c.position.match(/(top|north)/i)?e.css("bottom",a("body").height()-g.top+c.offset[1]+"px"):e.css("top",g.top+c.anchor.outerHeight()+c.offset[1]+"px");if(c.position.match(/(left|west)/i))d=a("body").width()-g.left+c.offset[0],e.css("right",d+"px");else{var h=Math.abs(parseInt(e.css("margin-left"))),i=a("body").width()-h;d=g.left+c.anchor.outerWidth()+c.offset[0],f=d,d<h?d=h:d>i&&(d=i);var j=e.width(),k=parseInt(e.css("padding-left")),l=j/2-(d-f)+k;l>j+k&&(l=j+k),b.css("left",l+"px"),e.css("left",d+"px"),e.append(b)}}};var f=function(){e.reposition()};return a(window).resize(f),e.reposition(),e},a.tooltip})